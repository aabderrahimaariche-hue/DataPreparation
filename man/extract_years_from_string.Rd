% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/03_timestamp_features.R
\name{extract_years_from_string}
\alias{extract_years_from_string}
\title{Extract ALL 4-Digit Years from String with Positions}
\usage{
extract_years_from_string(
  data = NULL,
  string_col = "string",
  dataset_name = NULL
)
}
\arguments{
\item{data}{A data frame (optional if dataset_name provided)}

\item{string_col}{String column name to extract years from}

\item{dataset_name}{Character. Name of registered dataset to use.}
}
\value{
Data frame with original columns + new "years_list" column containing
        list of extracted years with positions for each row
}
\description{
Extracts all 4-digit years found in a string column, along with their
positions (starting index). Unlike extract_year_from_string() which gets
only the first year, this function finds ALL years and returns position
information for each.
}
\details{
The function iteratively:
1. Extracts the first 4-digit year found
2. Records the year value and its position (starting index)
3. Replaces the extracted year with "EXTRACTEDYEAR" placeholder
4. Repeats until no more years are found

Returns a list column where each element contains a data frame with:
- year: The extracted 4-digit year as numeric
- position: The starting index position in the original string (1-based)
}
\examples{
\dontrun{
# Example: phrases with multiple years
data <- data.frame(
  id = 1:3,
  phrase = c(
    "i was born in 2001",
    "between 1995 and 2005",
    "from 2010 to 2020 then 2022"
  )
)

result <- extract_years_from_string(data, "phrase")
result$years_list
# [[1]] - Row 1 (id=1): "i was born in 2001"
#   year position
#   2001       17
#
# [[2]] - Row 2 (id=2): "between 1995 and 2005"
#   year position
#   1995        9
#   2005       18
#
# [[3]] - Row 3 (id=3): "from 2010 to 2020 then 2022"
#   year position
#   2010        6
#   2020       15
#   2022       25
}

}
